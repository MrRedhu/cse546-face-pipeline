<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: p2_part2 Pages: 1 -->
<svg width="978pt" height="537pt"
 viewBox="7.20 7.20 970.80 529.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(18 519)">
<title>p2_part2</title>
<polygon fill="white" stroke="transparent" points="-10.8,10.8 -10.8,-511.8 952.8,-511.8 952.8,10.8 -10.8,10.8"/>
<text text-anchor="middle" x="471" y="-479.4" font-family="Inter" font-size="22.00">Project 2 Part 2 â€” Edge (MQTT + Greengrass) + Cloud Recognition (SQS + Lambda)</text>
<g id="clust1" class="cluster">
<title>cluster_edge</title>
<path fill="white" stroke="#d1d5db" d="M395,-245C395,-245 547,-245 547,-245 553,-245 559,-251 559,-257 559,-257 559,-449 559,-449 559,-455 553,-461 547,-461 547,-461 395,-461 395,-461 389,-461 383,-455 383,-449 383,-449 383,-257 383,-257 383,-251 389,-245 395,-245"/>
<text text-anchor="middle" x="471" y="-445.8" font-family="Inter" font-size="14.00">On&#45;Prem / Edge</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_cloud</title>
<path fill="white" stroke="#d1d5db" d="M285,-8C285,-8 431,-8 431,-8 437,-8 443,-14 443,-20 443,-20 443,-201 443,-201 443,-207 437,-213 431,-213 431,-213 285,-213 285,-213 279,-213 273,-207 273,-201 273,-201 273,-20 273,-20 273,-14 279,-8 285,-8"/>
<text text-anchor="middle" x="358" y="-197.8" font-family="Inter" font-size="14.00">AWS Cloud</text>
</g>
<!-- iot -->
<g id="node1" class="node">
<title>iot</title>
<path fill="#eef2ff" stroke="#111827" stroke-width="1.6" d="M522.5,-438C522.5,-438 429.5,-438 429.5,-438 423.5,-438 417.5,-432 417.5,-426 417.5,-426 417.5,-414 417.5,-414 417.5,-408 423.5,-402 429.5,-402 429.5,-402 522.5,-402 522.5,-402 528.5,-402 534.5,-408 534.5,-414 534.5,-414 534.5,-426 534.5,-426 534.5,-432 528.5,-438 522.5,-438"/>
<text text-anchor="middle" x="476" y="-423.4" font-family="Inter" font-size="12.00">IoT Client Device</text>
<text text-anchor="middle" x="476" y="-410.4" font-family="Inter" font-size="12.00">publish frames</text>
</g>
<!-- mqtt -->
<g id="node2" class="node">
<title>mqtt</title>
<path fill="#e0f2fe" stroke="#111827" stroke-width="1.6" d="M547.5,-365C547.5,-365 394.5,-365 394.5,-365 388.5,-365 382.5,-359 382.5,-353 382.5,-353 382.5,-341 382.5,-341 382.5,-335 388.5,-329 394.5,-329 394.5,-329 547.5,-329 547.5,-329 553.5,-329 559.5,-335 559.5,-341 559.5,-341 559.5,-353 559.5,-353 559.5,-359 553.5,-365 547.5,-365"/>
<text text-anchor="middle" x="471" y="-350.4" font-family="Inter" font-size="12.00">MQTT Topic</text>
<text text-anchor="middle" x="471" y="-337.4" font-family="Inter" font-size="12.00">clients/&lt;ASU_ID&gt;&#45;IoTThing</text>
</g>
<!-- iot&#45;&gt;mqtt -->
<g id="edge1" class="edge">
<title>iot&#45;&gt;mqtt</title>
<path fill="none" stroke="#374151" stroke-width="1.4" d="M474.79,-401.81C474.21,-393.53 473.49,-383.41 472.84,-374.19"/>
<polygon fill="#374151" stroke="#374151" stroke-width="1.4" points="475.97,-373.79 472.2,-365.03 469.69,-374.23 475.97,-373.79"/>
<text text-anchor="middle" x="527" y="-381" font-family="Inter" font-size="10.00">publish base64 frame</text>
</g>
<!-- resp -->
<g id="node6" class="node">
<title>resp</title>
<path fill="#fef3c7" stroke="#111827" stroke-width="1.6" d="M431,-44C431,-44 303,-44 303,-44 297,-44 291,-38 291,-32 291,-32 291,-20 291,-20 291,-14 297,-8 303,-8 303,-8 431,-8 431,-8 437,-8 443,-14 443,-20 443,-20 443,-32 443,-32 443,-38 437,-44 431,-44"/>
<text text-anchor="middle" x="367" y="-29.4" font-family="Inter" font-size="12.00">SQS Response Queue</text>
<text text-anchor="middle" x="367" y="-16.4" font-family="Inter" font-size="12.00">&lt;ASU_ID&gt;&#45;resp&#45;queue</text>
</g>
<!-- iot&#45;&gt;resp -->
<g id="edge6" class="edge">
<title>iot&#45;&gt;resp</title>
<path fill="none" stroke="#374151" stroke-width="1.4" stroke-dasharray="5,2" d="M534.54,-413.58C575.16,-406.22 622,-388.87 622,-348 622,-348 622,-348 622,-98 622,-62.03 526.63,-43.5 452.54,-34.53"/>
<polygon fill="#374151" stroke="#374151" stroke-width="1.4" points="452.47,-31.35 443.16,-33.43 451.74,-37.61 452.47,-31.35"/>
<text text-anchor="middle" x="649.5" y="-224" font-family="Inter" font-size="10.00">poll results</text>
</g>
<!-- gg -->
<g id="node3" class="node">
<title>gg</title>
<path fill="#ecfdf5" stroke="#111827" stroke-width="1.6" d="M547,-292C547,-292 395,-292 395,-292 389,-292 383,-286 383,-280 383,-280 383,-257 383,-257 383,-251 389,-245 395,-245 395,-245 547,-245 547,-245 553,-245 559,-251 559,-257 559,-257 559,-280 559,-280 559,-286 553,-292 547,-292"/>
<text text-anchor="middle" x="471" y="-278.4" font-family="Inter" font-size="12.00">Greengrass Core</text>
<text text-anchor="middle" x="471" y="-265.4" font-family="Inter" font-size="12.00">FaceDetection Component</text>
<text text-anchor="middle" x="471" y="-252.4" font-family="Inter" font-size="12.00">MTCNN on edge</text>
</g>
<!-- mqtt&#45;&gt;gg -->
<g id="edge2" class="edge">
<title>mqtt&#45;&gt;gg</title>
<path fill="none" stroke="#374151" stroke-width="1.4" d="M471,-328.64C471,-320.51 471,-310.56 471,-301.15"/>
<polygon fill="#374151" stroke="#374151" stroke-width="1.4" points="474.15,-301.02 471,-292.02 467.85,-301.02 474.15,-301.02"/>
<text text-anchor="middle" x="494.5" y="-308" font-family="Inter" font-size="10.00">subscribe</text>
</g>
<!-- req -->
<g id="node4" class="node">
<title>req</title>
<path fill="#fef3c7" stroke="#111827" stroke-width="1.6" d="M410,-190C410,-190 288,-190 288,-190 282,-190 276,-184 276,-178 276,-178 276,-166 276,-166 276,-160 282,-154 288,-154 288,-154 410,-154 410,-154 416,-154 422,-160 422,-166 422,-166 422,-178 422,-178 422,-184 416,-190 410,-190"/>
<text text-anchor="middle" x="349" y="-175.4" font-family="Inter" font-size="12.00">SQS Request Queue</text>
<text text-anchor="middle" x="349" y="-162.4" font-family="Inter" font-size="12.00">&lt;ASU_ID&gt;&#45;req&#45;queue</text>
</g>
<!-- gg&#45;&gt;req -->
<g id="edge3" class="edge">
<title>gg&#45;&gt;req</title>
<path fill="none" stroke="#374151" stroke-width="1.4" d="M382.83,-254.11C359.26,-248.64 338.28,-241.35 331,-232 323.45,-222.3 326.29,-209.44 331.72,-198.21"/>
<polygon fill="#374151" stroke="#374151" stroke-width="1.4" points="334.65,-199.41 336.24,-190.01 329.13,-196.37 334.65,-199.41"/>
<text text-anchor="middle" x="394" y="-224" font-family="Inter" font-size="10.00">SendMessage(face crops)</text>
</g>
<!-- gg&#45;&gt;resp -->
<g id="edge7" class="edge">
<title>gg&#45;&gt;resp</title>
<path fill="none" stroke="#374151" stroke-width="1.4" stroke-dasharray="5,2" d="M470.9,-244.93C470.48,-193.63 468.28,-71.6 457,-57 455.04,-54.46 452.85,-52.13 450.49,-50"/>
<polygon fill="#374151" stroke="#374151" stroke-width="1.4" points="451.96,-47.16 442.91,-44.17 448.12,-52.15 451.96,-47.16"/>
<text text-anchor="middle" x="537" y="-133" font-family="Inter" font-size="10.00">(optional) No&#45;Face fast path</text>
</g>
<!-- fr -->
<g id="node5" class="node">
<title>fr</title>
<path fill="#fffbeb" stroke="#111827" stroke-width="1.6" d="M431,-117C431,-117 285,-117 285,-117 279,-117 273,-111 273,-105 273,-105 273,-93 273,-93 273,-87 279,-81 285,-81 285,-81 431,-81 431,-81 437,-81 443,-87 443,-93 443,-93 443,-105 443,-105 443,-111 437,-117 431,-117"/>
<text text-anchor="middle" x="358" y="-102.4" font-family="Inter" font-size="12.00">Lambda Face Recognition</text>
<text text-anchor="middle" x="358" y="-89.4" font-family="Inter" font-size="12.00">(fr_lambda.py)</text>
</g>
<!-- req&#45;&gt;fr -->
<g id="edge4" class="edge">
<title>req&#45;&gt;fr</title>
<path fill="none" stroke="#374151" stroke-width="1.4" d="M351.18,-153.81C352.23,-145.53 353.51,-135.41 354.68,-126.19"/>
<polygon fill="#374151" stroke="#374151" stroke-width="1.4" points="357.83,-126.35 355.84,-117.03 351.58,-125.56 357.83,-126.35"/>
<text text-anchor="middle" x="372" y="-133" font-family="Inter" font-size="10.00">Trigger</text>
</g>
<!-- fr&#45;&gt;resp -->
<g id="edge5" class="edge">
<title>fr&#45;&gt;resp</title>
<path fill="none" stroke="#374151" stroke-width="1.4" d="M354.02,-80.72C352.92,-73.36 352.4,-64.7 354,-57 354.28,-55.65 354.63,-54.28 355.02,-52.91"/>
<polygon fill="#374151" stroke="#374151" stroke-width="1.4" points="358.12,-53.59 358.19,-44.05 352.19,-51.47 358.12,-53.59"/>
<text text-anchor="middle" x="405.5" y="-60" font-family="Inter" font-size="10.00">SendMessage(result)</text>
</g>
</g>
</svg>
